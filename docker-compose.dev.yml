version: '3.8'

# Development Docker Compose
# This runs only Calibre service for Windows development

services:
  calibre:
    build:
      context: .
      dockerfile: Dockerfile.calibre
    container_name: bookstore-calibre-dev
    restart: unless-stopped
    ports:
      - "8081:8080"  # Calibre HTTP API
    volumes:
      # Mount your local data folder so Calibre can access the books
      - ./data:/data
    environment:
      - CALIBRE_LIBRARY_PATH=/data/books
    networks:
      - bookstore-dev

networks:
  bookstore-dev:
    driver: bridge
